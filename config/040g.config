# ==========================================
# XG-040G-MD OpenWrt 配置文件
# 平台: Airoha EN7581 (aarch64_cortex-a53)
# 基于成功编译模板优化
# ==========================================

# Target System (Airoha)
CONFIG_TARGET_airoha=y
CONFIG_TARGET_airoha_an7581=y
CONFIG_TARGET_airoha_an7581_DEVICE_bell_xg-040g-md=y
CONFIG_TARGET_ARCH_PACKAGES="aarch64_cortex-a53"

# 多设备支持
CONFIG_TARGET_MULTI_PROFILE=y
CONFIG_TARGET_PER_DEVICE_ROOTFS=y

# Kernel 配置
CONFIG_KERNEL_DEBUG_INFO=y
CONFIG_KERNEL_DEBUG_FS=y
CONFIG_KERNEL_PRINTK=y

# ==========================================
# NPU 和硬件加速 (关键!)
# ==========================================
CONFIG_PACKAGE_airoha-en7581-npu-firmware=y
CONFIG_PACKAGE_kmod-airoha-hw-accel=y
CONFIG_PACKAGE_kmod-airoha-hw-accel-nat=y
CONFIG_PACKAGE_kmod-airoha-hw-accel-qos=y
CONFIG_PACKAGE_airoha-cpufreq=y

# 软件加速补充
CONFIG_PACKAGE_kmod-nft-offload=y
CONFIG_PACKAGE_kmod-ipt-offload=y

# ==========================================
# 基础系统
# ==========================================
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-ssl=y
CONFIG_PACKAGE_luci-theme-bootstrap=y

# 中文语言包
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y
CONFIG_PACKAGE_luci-i18n-firewall-zh-cn=y
CONFIG_PACKAGE_luci-i18n-opkg-zh-cn=y

# ==========================================
# 网络核心
# ==========================================
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_dnsmasq_full_dhcpv6=y
CONFIG_PACKAGE_dnsmasq_full_tftp=y
CONFIG_PACKAGE_ip-full=y
CONFIG_PACKAGE_ipset=y
CONFIG_PACKAGE_iptables-mod-tproxy=y
CONFIG_PACKAGE_iptables-mod-nat-extra=y
CONFIG_PACKAGE_iwinfo=y

# ==========================================
# 多线负载 (MWAN3)
# ==========================================
CONFIG_PACKAGE_luci-app-mwan3=y
CONFIG_PACKAGE_luci-app-mwan3helper=y
CONFIG_PACKAGE_luci-i18n-mwan3-zh-cn=y
CONFIG_PACKAGE_mwan3=y
CONFIG_PACKAGE_ip-bridge=y

# ==========================================
# SmartDNS
# ==========================================
CONFIG_PACKAGE_luci-app-smartdns=y
CONFIG_PACKAGE_luci-i18n-smartdns-zh-cn=y
CONFIG_PACKAGE_smartdns=y

# ==========================================
# HomeProxy
# ==========================================
CONFIG_PACKAGE_luci-app-homeproxy=y
CONFIG_PACKAGE_luci-i18n-homeproxy-zh-cn=y
CONFIG_PACKAGE_homeproxy=y

# ==========================================
# Zerotier
# ==========================================
CONFIG_PACKAGE_luci-app-zerotier=y
CONFIG_PACKAGE_luci-i18n-zerotier-zh-cn=y
CONFIG_PACKAGE_zerotier=y

# ==========================================
# UPnP
# ==========================================
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-i18n-upnp-zh-cn=y
CONFIG_PACKAGE_miniupnpd=y

# ==========================================
# Transmission (BT下载)
# ==========================================
CONFIG_PACKAGE_luci-app-transmission=y
CONFIG_PACKAGE_luci-i18n-transmission-zh-cn=y
CONFIG_PACKAGE_transmission-daemon=y
CONFIG_PACKAGE_transmission-web=y
CONFIG_PACKAGE_transmission-remote=y

# ==========================================
# ksmbd (SMB服务器)
# ==========================================
CONFIG_PACKAGE_luci-app-ksmbd=y
CONFIG_PACKAGE_luci-i18n-ksmbd-zh-cn=y
CONFIG_PACKAGE_ksmbd-server=y
CONFIG_PACKAGE_ksmbd-utils=y
CONFIG_PACKAGE_wsdd2=y

# ==========================================
# vsFTPd
# ==========================================
CONFIG_PACKAGE_luci-app-vsftpd=y
CONFIG_PACKAGE_luci-i18n-vsftpd-zh-cn=y
CONFIG_PACKAGE_vsftpd-alt=y

# ==========================================
# ttyd (网页终端)
# ==========================================
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-i18n-ttyd-zh-cn=y
CONFIG_PACKAGE_ttyd=y

# ==========================================
# USB 3.0 支持
# ==========================================
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_PACKAGE_kmod-usb-ohci=y
CONFIG_PACKAGE_kmod-usb-uhci=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_kmod-usb-storage-uas=y
CONFIG_PACKAGE_kmod-usb-xhci-hcd=y
CONFIG_PACKAGE_kmod-usb3=y
CONFIG_PACKAGE_kmod-usb-dwc3=y
CONFIG_PACKAGE_kmod-usb-dwc3-of-simple=y
CONFIG_PACKAGE_usbutils=y

# USB 文件系统
CONFIG_PACKAGE_kmod-fs-exfat=y
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-ntfs3=y
CONFIG_PACKAGE_kmod-fs-vfat=y
CONFIG_PACKAGE_kmod-fuse=y

# ==========================================
# CPU 状态监控
# ==========================================
CONFIG_PACKAGE_luci-app-cpustats=y
CONFIG_PACKAGE_luci-app-cpu-status=y
CONFIG_PACKAGE_luci-i18n-cpustats-zh-cn=y
CONFIG_PACKAGE_luci-i18n-cpu-status-zh-cn=y
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_iperf3=y
CONFIG_PACKAGE_sysstat=y

# ==========================================
# 温度监控
# ==========================================
CONFIG_PACKAGE_luci-app-temp-status=y
CONFIG_PACKAGE_lm-sensors=y

# ==========================================
# 磁盘管理
# ==========================================
CONFIG_PACKAGE_luci-app-diskman=y
CONFIG_PACKAGE_luci-i18n-diskman-zh-cn=y
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_blockd=y
CONFIG_PACKAGE_blkid=y

# ==========================================
# QoS (可选)
# ==========================================
CONFIG_PACKAGE_luci-app-sqm=y
CONFIG_PACKAGE_luci-i18n-sqm-zh-cn=y
CONFIG_PACKAGE_sqm-scripts=y

# ==========================================
# 日志和诊断
# ==========================================
CONFIG_PACKAGE_logrotate=y
CONFIG_PACKAGE_tcpdump=y

# ==========================================
# 取消冲突包
# ==========================================
# CONFIG_PACKAGE_dnsmasq is not set
# CONFIG_PACKAGE_firewall4 is not set (如果需要用iptables)

# ==========================================
# 编译优化
# ==========================================
CONFIG_DEVEL=y
CONFIG_CCACHE=y
CONFIG_COLLECT_KERNEL_DEBUG=y
CONFIG_USE_MOLD=y
